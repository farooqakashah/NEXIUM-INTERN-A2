// ------------------
// ✅ Urdu Dictionary
// ------------------

export const urduDictionary: Record<string, string> = {
  the: 'دی',
  is: 'ہے',
  and: 'اور',
  to: 'کو',
  of: 'کا',
  in: 'میں',
  a: 'ایک',
  for: 'کے لئے',
  on: 'پر',
  with: 'کے ساتھ',
  by: 'کی طرف سے',
  this: 'یہ',
  that: 'وہ',
  are: 'ہیں',
  you: 'آپ',
  we: 'ہم',
  it: 'یہ',
  was: 'تھا',
  being: 'ہونے',
  born: 'پیدا ہوا',
  family: 'خاندان',
  news: 'خبریں',
  accounts: 'اکاؤنٹس',
  saying: 'کہہ رہا ہے',
  he: 'وہ',
  just: 'صرف',
  there: 'وہاں',
  have: 'ہے',
  good: 'اچھا',
  time: 'وقت',
  because: 'کیونکہ',
  people: 'لوگ',
  also: 'بھی',
  note: 'نوٹ',
  one: 'ایک',
  about: 'کے بارے میں',
  incident: 'واقعہ',
  dead: 'مردہ',
  man: 'آدمی',
  after: 'بعد',
  kindest: 'سب سے مہربان',
  warmest: 'سب سے گرمجوش',
  person: 'شخص',
  who: 'جو',
  ever: 'کبھی',
  lived: 'رہا',
  whole: 'پوری',
  world: 'دنیا',
  described: 'بیان کیا',
  his: 'اس کا',
  died: 'مر گیا',
  protecting: 'تحفظ کرتے ہوئے',
  land: 'زمین',
  from: 'سے',
  settlers: 'باشندوں',
  were: 'تھے',
  attempting: 'کوشش کر رہے تھے',
  steal: 'چوری کرنا',
  now: 'اب',
  perhaps: 'شاید',
  merely: 'صرف',
  trying: 'کوشش کر رہا ہے',
  give: 'دینا',
  death: 'موت',
  heroic: 'بہادرانہ',
  culture: 'ثقافت',
  currently: 'فی الحال',
  placing: 'رکھنا',
  high: 'اعلی',
  value: 'قدر',
  fighting: 'لڑائی',
  jews: 'یہودیوں',
  say: 'کہنا',
  doesn: 'نہیں',
  t: 'نہیں',
  indicate: 'اشارہ کرتا ہے',
  guy: 'لڑکا',
  visiting: 'دورہ کر رہا ہے',
  west: 'مغرب',
  bank: 'کنارہ',
  mean: 'مطلب',
  wanted: 'چاہتا تھا',
  be: 'ہونا',
  killed: 'مارا گیا',
  should: 'چاہئے',
  been: 'ہو',
  does: 'کرتا ہے',
  show: 'دکھاتا ہے',
  deep: 'گہری',
  investigation: 'تحقیقات',
  warranted: 'جائز ہے',
  before: 'پہلے',
  get: 'حاصل کرنا',
  all: 'سب',
  upset: 'پریشان',
  over: 'پر',
  little: 'تھوڑا',
  discussion: 'بحث',
  friend: 'دوست',
  x: 'ایکس',
  brought: 'لایا',
  up: 'اوپر',
  fact: 'حقیقت',
  while: 'جبکہ',
  complain: 'شکایت کرتے ہیں',
  bankers: 'بینکرز',
  bottom: 'نیچے',
  line: 'لائن',
  lots: 'بہت سارے',
  other: 'دوسرے',
  groups: 'گروپس',
  involved: 'شامل',
  finance: 'فنانس',
  longest: 'سب سے لمبا',
  they: 'وہ',
  weren: 'نہیں تھے',
  allowed: 'اجازت دی گئی',
  anything: 'کچھ بھی',
  else: 'اور کچھ',
  could: 'سکتا تھا',
  carved: 'تراشا',
  out: 'باہر',
  square: 'مربع',
  miles: 'میل',
  usa: 'امریکہ',
  australia: 'آسٹریلیا',
  places: 'جگہوں',
  around: 'ارد گرد',
  done: 'کیا',
  same: 'ایک جیسا',
  thing: 'چیز',
  as: 'جیسا کہ',
  given: 'دیا گیا',
  live: 'رہنا',
  rule: 'حکمرانی',
  themselves: 'خود',
  israel: 'اسرائیل',
  chosen: 'چنا گیا',
  historic: 'تاریخی',
  connection: 'تعلق',
  nearly: 'تقریباً',
  empty: 'خالی',
  at: 'پر',
  first: 'پہلا',
  zionists: 'صہیونی',
  began: 'شروع ہوا',
  arriving: 'پہنچنا',
  s: 'کا',
  course: 'بالطبع',
  jewish: 'یہودی',
  population: 'آبادی',
  already: 'پہلے سے',
  residing: 'رہائش پذیر',
  far: 'دور',
  can: 'سکتے ہیں',
  tell: 'بتانا',
  since: 'سے',
  abraham: 'ابراہیم',
  has: 'ہے',
  always: 'ہمیشہ',
  some: 'کچھ',
  important: 'اہم',
  here: 'یہاں',
  how: 'کیسے',
  fight: 'لڑائی',
  conducted: 'منعقد کی گئی',
  not: 'نہیں',
  straightforward: 'سیدھا',
  muslims: 'مسلمان',
  going: 'جانا',
  stay: 'رہنا',
  charge: 'چارج',
  if: 'اگر',
  means: 'مطلب',
  kick: 'لات مارنا',
  then: 'پھر',
  faced: 'سامنا',
  sitting: 'بیٹھنا',
  shade: 'سایہ',
  tree: 'درخت',
  planted: 'لگایا',
  own: 'اپنی',
  opponent: 'مخالف',
  must: 'لازمی',
  cook: 'تیار کرنا',
  reason: 'وجہ',
  killing: 'قتل',
  doing: 'کرنا',
  said: 'کہا',
  justified: 'جائز',
  what: 'کیا',
  alleged: 'مبینہ',

  // Common phrases
  'in the': 'میں دی',
  'of the': 'کا دی',
  'to the': 'کو دی',
  'and the': 'اور دی',
  'is a': 'ایک ہے',
  'for the': 'کے لئے دی',
  'on the': 'پر دی',
  'this is': 'یہ ہے',
  'that is': 'وہ ہے',
  'west bank': 'مغربی کنارہ',
  'good time': 'اچھا وقت',
  'died protecting': 'تحفظ کرتے ہوئے مر گیا',
  'jewish bankers': 'یہودی بینکرز',
  'bottom line': 'آخری نتیجہ',
  'longest time': 'لمبا عرصہ',
  'carved out': 'تراشا گیا',
  'same thing': 'ایک ہی چیز',
  'historic connection': 'تاریخی تعلق',
};

// ----------------------
// ✅ Context-aware rules
// ----------------------

export const contextRules = [
  {
    pattern: /(\w+)\s+is\b/gi,
    replacement: '$1 ہے',
  },
  {
    pattern: /(\w+)s\s+are\b/gi,
    replacement: '$1یں ہیں',
  },
  {
    pattern: /(\w+)\s+was\b/gi,
    replacement: '$1 تھا',
  },
  {
    pattern: /(\w+)s\s+were\b/gi,
    replacement: '$1 تھے',
  },
  {
    pattern: /does\s+not\b/gi,
    replacement: 'نہیں کرتا',
  },
];

// -------------------------
// ✅ Normalize helper
// -------------------------

export function normalizeUrduText(text: string): string {
  return text
    .replace(/\s+/g, ' ')
    .replace(/\s+([۔!?])/g, '$1')
    .trim();
}

// -------------------------
// ✅ Translator
// -------------------------

export function translateToUrdu(text: string): string {
  if (!text || typeof text !== 'string') {
    return '';
  }

  let translated = text;

  const sortedPhrases = Object.keys(urduDictionary)
    .filter((key) => key.includes(' '))
    .sort((a, b) => b.length - a.length);

  for (const phrase of sortedPhrases) {
    const regex = new RegExp(`\\b${phrase}\\b`, 'gi');
    translated = translated.replace(regex, urduDictionary[phrase]);
  }

  for (const [english, urdu] of Object.entries(urduDictionary).filter(
    ([key]) => !key.includes(' ')
  )) {
    const regex = new RegExp(`\\b${english}\\b`, 'gi');
    translated = translated.replace(regex, urdu);
  }

  for (const rule of contextRules) {
    translated = translated.replace(rule.pattern, rule.replacement);
  }

  return normalizeUrduText(translated);
}
